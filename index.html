
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Moip Assinaturas - Documentação online</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Exemplo de utilização do Javascript assinaturas.js">
        <meta name="author" content="Moip Assinaturas">

        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/demo.css" rel="stylesheet">
        <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="css/prettify.css" rel="stylesheet">

        <link rel="shortcut icon" href="img/favicon.ico">
        <style>
            section {
                padding-top: 30px;
            }          
        </style>
    </head>

    <body data-spy="scroll" data-target="#navbar" data-offset="10">
        <div class="navbar navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand active" href="index.html">Assinaturas Docs</a>
                    <div class="nav-collapse collapse">
                        <ul class="nav" role="navigation">
                            <li class="active"><a href="index.html">Introdução</a></li>                           
                            <li><a href="comece.html">Comece a integrar</a></li>                           
                            <li class="dropdown">
                                <a class="dropdown-toggle" id="dLabel" role="button" data-toggle="dropdown" data-target="#" href="api.html">
                                    Documentação
                                    <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a href="api.html">APIs</a></li>
                                    <li><a href="js.html">moip-assinaturas.js</a></li>              
                                    <li class="divider"></li>
                                    <li class="nav-header">Adicionais</li>
                                    <li><a href="webhooks.html">Webhooks</a></li>
                                    <li><a href="erros_alertas.html">Erros e Alertas</a></li>              
                                </ul>
                            </li>   
                            <li><a href="producao.html">Homologação</a></li>              
                            <li><a href="ajuda.html">Ajuda</a></li>              
                            <li><a href="english_version.html">English version</a></li>
                        </ul>
                        <a href="http://assinaturas.moip.com.br" class="btn pull-right">Login</a>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>


        <div class="container">

            <!-- Docs nav
            ================================================== -->
            <div class="row">
                <div class="span3 bs-docs-sidebar" id="navbar">
                    <ul class="nav nav-list bs-docs-sidenav affix">
                        <li><a href="#apresentacao"><i class="icon-chevron-right"></i> Apresentação</a></li>                        
                        <li><a href="#terminologia"><i class="icon-chevron-right"></i> Terminologia</a></li>
                        <li><a href="#fluxo_basico"><i class="icon-chevron-right"></i> Fluxo básico</a></li>
                        <li><a href="#apis"><i class="icon-chevron-right"></i> APIs</a></li>
                        <li><a href="#passo_a_passo"><i class="icon-chevron-right"></i>  Passo a passo</a></li>
                        <li><a href="#changelog"><i class="icon-chevron-right"></i>Changelog</a></li>
                    </ul>
                </div>
                <div class="span9" style="margin-top: -40px;">

                    <!-- Apresentação
                    ================================================== -->
                    <section id="apresentacao">
                        <div class="page-header">
                            <h1>Apresentação</h1>
                        </div>
                        <p>O Moip Assinaturas é a solução do Moip para o gerenciamento e cobrança de
                            mensalidades, assinaturas e pagamentos recorrentes. Este produto permite que você faça
                            cobranças de forma automática, no valor e intervalo que escolher por meio da criação de
                            planos que serão oferecidos aos seus clientes.
                        </p>
                    </section>

                    <!-- Terminologia
                    ================================================== -->
                    <section id="terminologia">
                        <div class="page-header">
                            <h1>Terminologia</h1>
                        </div>
                        <table class="table table-bordered table-striped">
                            <tr>
                                <td class="span2"><strong>Conta Moip</strong></td>
                                <td>O seu cadastro no Moip para recebimento dos pagamentos da assinatura,
                                    configuração e também para realizar os saques dos valores recebidos.</td>
                            </tr>
                            <tr>
                                <td><strong>Aplicação</strong></td>
                                <td>Site, plataforma ou sistema que está integrado ao Moip Assinaturas usando as APIs</td>
                            </tr>
                            <tr>
                                <td><strong>Vendedor</strong></td>
                                <td>Responsável pela venda das assinaturas e pela aplicação. Ele possui uma
                                    conta Moip de negócios para receber o pagamento das assinaturas.</td>
                            </tr>
                            <tr>
                                <td><strong>Cliente</strong></td>
                                <td>O comprador do vendedor. Ele não possui um relacionamento direto
                                    com o Moip Assinaturas.</td>
                            </tr>
                            <tr>
                                <td><strong>Plano</strong></td>
                                <td>O plano é semelhante a um produto para o modelo de assinaturas. Por meio da
                                    criação de um plano é possível oferecer a contratação de uma assinatura aos
                                    clientes.</td>
                            </tr>
                            <tr>
                                <td><strong>Assinatura</strong></td>
                                <td>O contrato realizado entre um cliente e um vendedor de acordo com o plano escolhido.</td>
                            </tr>
                            <tr>
                                <td><strong>Fatura</strong></td>
                                <td>Conjunto de itens (débitos e créditos) que compõe a cobrança que será feita de acordo com as regras
                                    configuradas no plano contratado.</td>
                            </tr>
                            <tr>
                                <td><strong>Pagamento</strong></td>
                                <td>Pagamento criado automaticamente pelo Moip Assinaturas, a fim de cobrar uma
                                    fatura.</td>
                            </tr>
                            <tr>
                                <td><strong>Evento</strong></td>
                                <td>Ações e alterações realizadas em algum elemento da sua Conta Moip, como
                                    plano, cliente, assinatura e cobrança. Os eventos podem ser tratados pela
                                    sua Aplicação por meio dos Webhooks configurados.</td>                                        
                            </tr>
                            <tr>
                                <td><strong>Sandbox</strong></td>
                                <td>Ambiente de testes do Moip Assinaturas. Quando você estiver usando o Sandbox, não serão geradas cobranças reais. Ele servirá para você iniciar sua integração e testar as reações das nossas APIs com a sua aplicação. Após homologação, você poderá ter acesso ao ambiente de Produção e processar pagamento reais.</td>                                        
                            </tr>
                            <td><strong>Produção</strong></td>
                                <td>Ambiente de operação do Moip Assinaturas. Quando você estiver usando o ambiente do Produção, poderá gerar planos, assinaturas e pagamentos com cobranças reais.</td>                                        
                            </tr>
                        </table>
                    </section>

                    <!-- Fluxo básico
                    ================================================== -->
                    <section id="fluxo_basico">
                        <div class="page-header">
                            <h1>Fluxo básico <small>(Assinaturas versão 1.0)</small></h1>
                        </div>
                        <img src="img/fluxo_assinaturas_v1.png" class="img-rounded">
                        <blockquote>
                            <small>
                                A ilustração acima representa o processo básico de contratação de uma assinatura por um
                                cliente.
                            </small>
                        </blockquote>
                        <p> Abaixo, um detalhamento das principais etapas do ciclo de vida de um cliente.</p>

                        <div>
                            <h4>1. Contratação de um plano</h4>
                            <p>O cliente pode contratar um plano previamente criado pelo vendedor das seguintes
                                maneiras: pelo próprio site do vendedor, caso ele utilize o moip-assinaturas.js para criar sua
                                página de contratação; utilizando a página de contratação do Moip Assinaturas; solicitando ao
                                vendedor por telefone ou email (nesse caso o vendedor deve criar a assinatura pela área logada).</p>
                            <div>
                                <ul>
                                    <li>É importante ressaltar que o cliente não precisa ter cadastro no Moip. O processo de
                                        contratação pode ser transparente para ele caso o vendedor utilize o JavaScript ou nossas APIs.
                                    </li>
                                    <li>É de responsabilidade do vendedor notificar ao assinante a respeito de todos os
                                        detalhes do plano contratado e também avisá-lo que o pagamento será processado pelo
                                        Moip.
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div>     
                            <h4>2. Cobrança de uma assinatura</h4>
                            <div>     
                                <ul>
                                    <li>A primeira cobrança é realizada no momento de criação da assinatura e as próximas serão de
                                        acordo com o intervalo determinado pelo plano.
                                    </li>
                                    <li>Nesta primeira versão, o Moip Assinaturas permite realizar as cobranças recorrentes em cartões de crédito Mastercard e
                                        Visa.
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div>
                            <h4>3. Mudança de um plano (upgrade/downgrade)</h4>
                            <p>O plano de uma assinatura pode ser alterado a qualquer momento pelo vendedor, por meio da
                                área logada ou da API. Na versão atual do Moip Assinaturas, essas alterações vão ser refletidas na próxima cobrança,
                                sem pró-rata (ou seja, a próxima cobrança vai ser o valor inteiro do novo plano da assinatura,
                                independentemente da data da alteração).</p>
                            <div>
                                <ul>
                                    <li>É responsabilidade do vendedor realizar a solicitação do assinante para a alteração
                                        do plano de uma assinatura e comunicá-lo quando essa alteração for realizada.</li>
                                </ul>
                            </div>
                        </div>
                        <div>
                            <h4>4. Faturas não pagas</h4>
                            <p>Caso uma fatura não seja paga (o pagamento não ser realizado por qualquer motivo),
                                o vendedor será notificado por um webhook. O vendedor deve realizar ações que julgar necessárias diretamente com o seu cliente para reaver a cobrança cancelada ou reembolsada.
                                Caso deseje, o vendedor pode suspender a assinatura do comprador inadimplente pela API ou
                                pela área logada.</p>
                            <p>Caso um pagamento seja cancelado, é possível a substituição do cartão de crédito, para concluir o pagamento da fatura. 
                                Esse update é possível tanto via API de Billing_info, quanto através do assinaturas.min.js e da interface do Moip Assinaturas.</p>
                        </div>

                        <div>
                            <h4>5. Retentativas de cobrança</h4>
                            <p>O vendedor tem a opção de configurar retentativas de cobranças paras caso onde a Assinatura esteja com status "Atrasada".
                            As retentativas pode ser automáticas (executadas conforme configurado pelo vendedor), ou manuais, mediante ação do lojista ou do assinante (utilizando a interface ou as APIs de retentativa).</p>
                            <div>
                        </div>
                        <div>
                            <h4>6. Suspensão de uma assinatura</h4>
                            <p>O cliente pode suspender a assinatura diretamente pela plataforma do
                                vendedor (utilizando as APIs - recomendado); por uma solicitação (email, telefone etc.) ao vendedor que deve realizá-la pela área logada;
                                ou por uma solicitação ao Moip. Caso o cliente contate o Moip para realizar esta ação, o
                                Moip irá suspender a assinatura e comunicar ao vendedor.</p>
                            <div>
                                <ul>
                                    <li>É de responsabilidade do vendedor comunicar ao cliente sobre o cancelamento da
                                        assinatura.</li>
                                    <li>Caso o assinante solicite o cancelamento, cabe ao vendedor atender esta solicitação
                                        o mais rápido possível.</li>
                                    <li>A suspensão irá ter efeito nas próximas cobranças, sem pró-rata. A mesma assinatura pode ser reativada depois pelo
                                        vendedor.</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- APIs
                    ================================================== -->
                    <section id="apis">
                        <div class="page-header">
                            <h1>APIs <small>Moip Assinaturas</small></h1>
                        </div>
                        <div>
                            <p>O Moip Assinaturas é baseado em um conjunto de APIs que permitem o total controle e
                                integração das ferramentas, de acordo com as suas necessidades.</p>
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>APIs</th>
                                        <th>Descrição</th>
                                    </tr>
                                </thead>                            
                                <tbody>
                                    <tr>
                                        <td class="span2"><strong><a href="api.html#planos">Planos</a></strong></td>
                                        <td>O plano é semelhante a um produto para o modelo de assinaturas. Um plano
                                            contém as configurações que uma assinatura vai seguir, como valor e
                                            intervalo de cobrança. Crie os planos que deseja oferecer para os seus
                                            clientes assinarem.<br>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="api.html#clientes">Clientes</a></strong></td>
                                        <td>Para a criação de uma assinatura, além do plano, é necessário possuir
                                            todas as informações do assinante para poder realizar as cobranças e
                                            gerenciar o relacionamento com ele. No modelo de assinaturas, o
                                            vínculo com o cliente é mais forte do que no e-commerce tradicional, por
                                            isso é importante conhecê-lo bem e ter seus dados sempre
                                            atualizados.<br>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="api.html#assinaturas">Assinaturas</a></strong></td>
                                        <td>A assinatura é o vínculo entre um cliente e um plano.
                                            Ela determina o contrato que será seguido para a realização das cobranças
                                            recorrentes.<br>
                                            Via API, é possível criar um cliente junto da assinatura, na interface é necessária a criação prévia do Cliente.</td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="api.html#faturas">Faturas</a></strong></td>
                                        <td>A assinatura vai gerar a primeira fatura no momento da contratação de
                                            um plano. Depois, periodicamente novas faturas serão geradas de acordo
                                            com as configurações do plano contratado. Para consultar as faturas
                                            geradas para uma determinada assinatura e seus detalhes, utilize a API de
                                            faturas.</td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="api.html#pagamentos">Pagamentos</a></td>
                                        <td>Uma fatura pode ser paga utilizando os meios de pagamento de preferência
                                            do assinante. Para cada fatura, é gerado um pagamento.</td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="api.html#retentativas">Retentativas</a></td>
                                        <td>Você poderá configurar ou executar retentativas de cobranças para casos onde o pagamento de uma fatura tenha sido cancelado. Para isso, nós oferecemos duas APIs de retentativas, uma delas permite que você gere um novo pagamento imediatamente, cobrando a fatura em atraso, a outra permite configurar retentativas automáticas, que serão executadas pelo Moip Assinaturas.</td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="api.html#preferencias">Preferências</a></td>
                                        <td>A API de preferências pode ser utilizada para configurar as preferências de notificação da loja. Com ela você pode determinar por exemplo, se deseja que o Moip Assinaturas notifique a loja e o assinantes por e-mail, sobre novas cobranças e alterações nas assinaturas. Além disso, você também pode utilizar essa API para configurar a URL de notificação para onde enviaremos os Webhooks.</td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="js.html">moipassinaturas.js</a></strong></td>
                                        <td>O JavaScript do Assinaturas permite o desenvolvimento de um checkout para
                                            a contratação de assinaturas, enviando os dados sensíveis de pagamento
                                            (cartão de crédito) direto para o servidor do Moip, reduzindo o escopo
                                            PCI do sistema do vendedor.</td>
                                    </tr>
                                    <tr>
                                        <td><strong><a href="webhooks.html">Webhooks</a></strong> </td>
                                        <td>O seu sistema pode ser notificado das alterações de status de uma
                                            cobrança por um POST de um evento enviado pelo Moip Assinaturas.</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p><a href="api.html">Veja a documentação completa da APIs.</a></p>                            
                        </div>
                    </section>

                    <!-- Passo-a-passo
                    ================================================== -->
                    <section id="passo_a_passo">
                        <div class="page-header">
                            <h1>Passo-a-passo <small>comece a usar o Assinaturas</small></h1>
                        </div>
                        <div>
                            <ol>
                                <li><a href="https://www.moip.com.br/criarcarteira.do">Crie uma conta</a> Moip para vendedores.<br>
                                    - É importante verificar a sua conta para ela não ter limitações.</li>
                                <li>Acesse o menu <strong>Ferramentas</strong> e depois clique no link <strong>Moip Assinaturas</strong><br>
                                    - Se preferir, <a href="https://www.moip.com.br/AdmMainMenuMyData.do?method=assinaturas">clique aqui.</a></li>
                                <li>Clique no botão <strong>Habilitar Acesso</strong> e pronto. Você já pode utilizar o <strong>Moip Assinaturas</strong> e suas APIs de Sandbox.</li>
                            </ol>
                            <br>
                            <div class="alert alert-danger"><p>Após habilitar sua conta, você terá acesso as <strong>APIs de Sandbox</strong> do <strong>Moip Assinaturas</strong>. Para passar a utilizar as <strong>APIs de Produção</strong>, você terá que passar pelo processo de <strong>homologação</strong> de integração. Para dar início a esse processo, basta clicar no <strong>Botão Produção</strong> na área logada do <strong>Moip Assinaturas</strong>, na página seguinte, preencher o formulário de homologação.</p>
                            </div>
                        </div>
                    </section>
                    <!-- Changelog
                    ================================================== -->
                    <section id="changelog">
                        <div class="page-header">
                            <h1>Changelog</h1>
                        </div>
                        <div>
                            <strong>03/10/2013</strong>
                            <ul>
                                <li>Inclusão da função Trial nos <a href="api.html#planos">Planos</a>.</li>
                            </ul><br>                            
                            <strong>08/08/2013</strong>
                            <ul>
                                <li>Update no <a href="#fluxo_basico">fluxo básico</a> (documentação).</li>
                                <li>Update no <a href="#passo_a_passo">passo-a-Passo</a> (documentação).</li>
                                <li>Update na listagem de <a href="#apis">APIs</a> (documentação).</li>
                            </ul><br>
                            <strong>01/08/2013</strong>
                            <ul>
                                <li>Lançamento do Moip Assinaturas no mercado. \o/</li>
                            </ul><br>
                            <strong>12/06/2013</strong>
                            <ul>
                                <li>Update no status de assinaturas, inclusão do status <a href="api.html#status_assinatura">Cancelada</a></li>
                                <li>Update de inclusão expiration date no <a href="webhooks.html#assinatura">Webhooks</a></li>
                                <li>Update na interface, integração com API de <a href="api.html#status_assinatura">Cancelamento de Assinatura</a></li>
                            </ul><br>
                            <strong>11/06/2013</strong>
                            <ul>
                                <li>Inclusão do Customer Code no <a href="webhooks.html#assinatura">Webhooks de Assinaturas</a></li>
                            </ul><br>
                            <strong>08/04/2013</strong>
                            <ul>
                                <li>Nova <a href="api.html#retentativa_automatica">API de retentativa automática</a></li>
                            </ul><br>

                            <strong>25/03/2013</strong>
                            <ul>
                                <li>Nova <a href="api.html#retentar_pagamento">API de retentativa</a></li>
                                <li>Novo status de  <a href="api.html#status_assinatura">assinatura</a> "Overdue".</li>
                            </ul><br>

                            <strong>22/03/2013</strong>
                            <ul>
                                <li>Nova <a href="api.html#preferencias">API de preferências</a></li>
                                <li>Reenvio de notificações para <a href="webhooks.html#fatura">faturas</a> e <a href="webhooks.html#pagamento">pagamentos</a></li>
                            </ul><br>

                            <strong>15/03/2013</strong>
                            <ul>
                                <li>Nova documentação online (esta mesmo!)</li>
                                <li>URIs para ativação e inativação de planos foram atualizadas.</li>
                            </ul><br>


                            <strong>24/01/2013</strong>
                            <ul>
                                <li><a href="webhooks.html">Novos webhooks</a> de planos, clientes e assiaturas.</li>
                                <li>URIs para ativação e inativação de planos foram atualizadas.</li>
                            </ul><br>


                            <strong>04/01/2013</strong>
                            <ul>
                                <li>Novo conceito de <a href="api.html#pagamentos">faturas e pagamentos</a>.</li>
                                <li>Nova máquina de estados para os <a href="api.html#status_fatura">status de uma fatura</a>.</li>
                                <li>Nova máquina de estados para os <a href="api.html#status_pagamento">status de um pagamento</a>.</li>
                                <li>Inclusão da <a href="api.html#pagamentos">API de pagamentos</a>.</li>
                                <li>Inclusão do <a href="webhooks.html#pagamento">webhook de pagamentos</a>.</li>
                                <li>Alteração da <a href="api.html#listar_faturas">API de faturas</a> (antiga API de cobranças).</li>
                                <li>Alteração do <a href="webhooks.html#fatura">webhook de faturas</a> (antigo webhook de cobranças).</li>
                            </ul><br>

                            <strong>10/12/2012</strong>
                            <ul>
                                <li>Liberação do ambiente de produção.</li>
                                <li>Inclusão de <a href="comece.html#paginacao">paginação</a> para a consulta de planos, clientes, assinaturas e cobranças. </li>
                                <li>Inclusão dos <a href="webhooks.html#simulacao">simuladores</a> de pagamento no <strong>Sandbox</strong>.</li>
                                <li>Inclusão da feature de <a href="api.html#criar_assinatura">criação de assinatura com valor flexível</a>.</li>
                                <li>Descontinuação da API de migração de plano.</li>
                                <li>Inclusão da API de <a href="api.html#alterar_assinatura">alteração de assinatura</a>.</li>
                                <li>Inclusão do código da assinatura na <a href="webhooks.html#assinatura">notificação de eventos</a> (webhook).</li>
                                <li>Inclusão do ID do pagamento no Moip na <a href="webhooks.html#assinatura">notificação de eventos</a> (webhook), no 
                                    retorno da criação de assinatura, e na listagem e detalhe das cobranças de uma assinatura.</li>
                                <li>Alteração do padrão da data retornada em todas as APIs.</li>
                            </ul><br>

                            <strong>21/11/2012</strong>
                            <ul>
                                <li>Alteração da URL para o ambiente de testes:<br>
                                    <blockquote>
                                        <small>
                                            <strong>Importante:</strong> utilizar sempre a nova URL para testes:
                                            <a href="https://sandbox.moip.com.br/">https://sandbox.moip.com.br/</a>
                                        </small>
                                    </blockquote>
                                </li>
                            </ul><br>
                        </div>
                    </section>

                </div>
            </div>

        </div>



        <!-- Footer
        ================================================== -->
        <footer>
            <div align="center">
                <p>Documentação <a href="http://site.moip.com.br/assinaturas" target="_blank">Moip Assinaturas</a>, um produto <a href="https://www.moip.com.br/" target="_blank">Moip Pagamentos S/A</a>.</p>
                <a href="ajuda.html">Ajuda</a>
                <strong class="muted"> | </strong>
                <a href="index.html#changelog">Changelog</a>
                <strong class="muted"> | </strong>
                <a href="english_version.html">English version</a>

            </div>
        </footer>

        <script src="javascript/jquery.js"></script>
        <script src="javascript/bootstrap-dropdown.js"></script>
        <script src="javascript/bootstrap-scrollspy.js"></script>
        <!-- Qualaroo for moip.com.br -->
        <!-- Paste this code right after the <body> tag on every page of your site. -->
        <script type="text/javascript">var _kiq = _kiq || [];</script>
        <script type="text/javascript" src="//s3.amazonaws.com/ki.js/23295/9ND.js" async="true"></script> 
    </body>
</html>
